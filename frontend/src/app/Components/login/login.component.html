<div class="main-container"
  style="background: linear-gradient(135deg, rgba(255, 255, 255, 0.251), rgba(255, 255, 255, 0.041));">
  <div class="login-container">
    <div class="logo-head"><img src="assets/grabstore_logo_h_dark.png" alt="Brand_Logo"></div>
    <form [formGroup]="myForm" (ngSubmit)="onSubmit()" class="login-form">
      <h2>Login</h2>

      <div class="form-group">
        <label for="username">Username/Email <span style="color: red;">*</span></label>
        <input [ngStyle]="{'border-color': isBlank ? 'red' : ''}" type="text" id="username" placeholder="Email. . . "
          name="username" required formControlName="email" />
      </div>
      <div *ngIf="myForm.controls['email'].invalid && myForm.controls['email'].touched" class="warning-msg">
        <small *ngIf="myForm.controls['email'].dirty">*Enter a valid email </small>
        <small>*Email required</small>
      </div>

      <div class="form-group">
        <label for="password">Password <span style="color: red;">*</span></label>
        <div class="password-container">
          <input 
            [type]="showPassword ? 'text' : 'password'" 
            id="password" 
            name="password" 
            formControlName="password" 
            placeholder="Password... " 
            required 
          />
          <img type="button" [src]="visibility" alt="toggle" (click)="togglePasswordVisibility()" class="show-password-btn">
        </div>
      </div>
      <div *ngIf="myForm.controls['password'].invalid && myForm.controls['password'].touched" class="warning-msg">
        <small *ngIf="myForm.controls['password'].errors?.['minlength']">*Password must be at least 8 characters long</small>
        <small *ngIf="myForm.controls['password'].errors?.['pattern']">*Password must contain uppercase, lowercase, number, and special character</small>
        <small *ngIf="myForm.controls['password'].errors?.['required']">*Password is required</small>
      </div>

      <div class="form-group">
        <label for="role">Role<span style="color: red;"> *</span></label>
        <select id="role" name="role" required formControlName="role">
          <option value="" disabled selected hidden>Select a Role</option>
          <option value="CUSTOMER">Customer</option>
          <option value="STORE_MANAGER">Store Manager</option>
        </select>
      </div>
      <div *ngIf="myForm.controls['role'].valid && myForm.controls['role'].pristine" class="warning-msg">
        <small>*It's Required</small>
      </div>

      <button type="submit" class="btn-primary" [disabled]="myForm.invalid">Login</button>

      

      <div class="register-link">
        <a href="/register">Not a member? Please register</a>
      </div>
      <div class="forgot-password">
        <button (click)="navigateToChangePassword()" class="forgot-password-btn">Forgot Password?</button>
      </div>
      <small class="required-line"><span style="color: red;">*</span> fields are required</small>
    </form>

  </div>
</div>

<app-footer></app-footer>