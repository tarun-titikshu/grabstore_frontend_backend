<div class="registration-wrapper">
  <div class="logo-section">
    <img src="https://i.imgur.com/sW2mn3O.png" alt="Logo" class="logo" />
  </div>
  <div class="form-section">
    <form [formGroup]="myForm" (ngSubmit)="onSubmit()" class="registration-form">
      <h2>Register</h2>

      <!-- Username/Email Field -->
      <div class="form-group">
        <label for="email">Username/Email <span style="color: red;">*</span></label>
        <input 
          [ngStyle]="{'border-color': myForm.controls['email'].invalid && myForm.controls['email'].touched ? 'red' : ''}" 
          type="text" 
          id="email" 
          placeholder="Email... " 
          name="email" 
          formControlName="email" 
          required 
        />
      </div>
      <div *ngIf="myForm.controls['email'].invalid && myForm.controls['email'].touched" class="warning-msg">
        <small *ngIf="myForm.controls['email'].errors?.['email']">*Enter a valid email</small>
        <small *ngIf="myForm.controls['email'].errors?.['required']">*Email is required</small>
      </div>

      <!-- Password Field with Show/Hide Toggle -->
      <div class="form-group">
        <label for="password">Password <span style="color: red;">*</span></label>
        <div class="password-container">
          <input 
            [type]="showPassword ? 'text' : 'password'" 
            id="password" 
            name="password" 
            formControlName="password" 
            placeholder="Password... " 
            required 
          />
          <button type="button" (click)="togglePasswordVisibility()" class="show-password-btn">
            {{ showPassword ? 'Hide' : 'Show' }}
          </button>
        </div>
      </div>
      <div *ngIf="myForm.controls['password'].invalid && myForm.controls['password'].touched" class="warning-msg">
        <small *ngIf="myForm.controls['password'].errors?.['minlength']">*Password must be at least 8 characters long</small>
        <small *ngIf="myForm.controls['password'].errors?.['pattern']">*Password must contain uppercase, lowercase, number, and special character</small>
        <small *ngIf="myForm.controls['password'].errors?.['required']">*Password is required</small>
      </div>

      <!-- Role Field -->
      <div class="form-group">
        <label for="role">Role <span style="color: red;">*</span></label>
        <select id="role" name="role" formControlName="role" required>
          <option value="" disabled>Select Role</option>
          <option value="CUSTOMER">Customer</option>
          <option value="STORE_MANAGER">Store Manager</option>
        </select>
      </div>
      <div *ngIf="myForm.controls['role'].invalid && myForm.controls['role'].touched" class="warning-msg">
        <small *ngIf="myForm.controls['role'].errors?.['required']">*Role is required</small>
      </div>

      <button type="submit" class="btn-primary" [disabled]="myForm.invalid">Register</button>

      <div class="login-link">
        <a routerLink="/login">Already have an account? Log in</a>
      </div>
      
    </form>
    <small class="required-line"><span style="color: red;">*</span> fields are required</small>
  </div>
</div>
